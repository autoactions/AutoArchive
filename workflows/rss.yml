on:
  rss:
    url: ${{ secrets.RSS_FEED }}
jobs:
  request:
    name: Request
    runs-on: ubuntu-latest
    steps:
      - name: Show Info
        run: |
          echo "${{ on.rss.outputs }}"
          #echo '{"url":"${{ on.rss.outputs.link }}","title":"${{ on.rss.outputs.title }}","description":"${{ on.rss.outputs.contentSnippet }}"}'
      - name: Call API
        uses: actionsflow/axios@v1
        with:
          url: ${{ secrets.URL }}
          headers: '{"Authorization":"Token ${{ secrets.TOKEN }}","Content-Type":"application/json"}'
          accept: 201
          timeout: 60000
          method: POST
          body: |
            {
              "url":"${{ on.rss.outputs.link }}", 
              "title": "<<<${{ on.rss.outputs.title }}>>>",
              "description":"<<<${{ on.rss.outputs.contentSnippet }}>>>"
            }
